{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { selectTransactionsStream } from '../store/selectors/transaction.selector';\nimport { GetTransactions } from '../store/actions/cash.action';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/data.service\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"primeng/button\";\nimport * as i5 from \"primeng/table\";\nimport * as i6 from \"primeng/api\";\nimport * as i7 from \"primeng/progressbar\";\nfunction LiveTableComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"AccountID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Progress\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"CutOff\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"ValueDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"TransactionID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"th\");\n    i0.ɵɵtext(20, \"Beneficiary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\");\n    i0.ɵɵtext(22, \"Notional\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24, \"Coupon\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1, a2, a3) {\n  return {\n    \"orange-color\": a0,\n    \"green-color\": a1,\n    \"red-color\": a2,\n    \"blue-color\": a3\n  };\n};\nconst _c1 = function () {\n  return [\"pi pi-check-circle\", \"green-arrow\"];\n};\nconst _c2 = function () {\n  return [\"pi pi-arrow-up\", \"green-arrow\"];\n};\nconst _c3 = function () {\n  return [\"pi pi-arrow-down\", \"red-arrow\"];\n};\nfunction LiveTableComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"p-button\", 3);\n    i0.ɵɵlistener(\"click\", function LiveTableComponent_ng_template_3_Template_p_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const trade_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.updateStatus(trade_r2));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵelement(7, \"p-progressBar\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 4);\n    i0.ɵɵelement(9, \"i\", 4);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 4);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵelement(16, \"img\", 5);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵelement(25, \"i\", 4);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\");\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const trade_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", trade_r2.Type, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trade_r2.AccountID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", trade_r2.Progress);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(17, _c0, trade_r2[\"Status\"] === \"Pending\", trade_r2[\"Status\"] === \"Completed\", trade_r2[\"Status\"] === \"Cancelled\", trade_r2[\"Status\"] === \"In Progress\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", trade_r2[\"Status\"] === \"Completed\" ? i0.ɵɵpureFunction0(22, _c1) : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", trade_r2.Status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trade_r2[\"CutOff\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", trade_r2.ValueDate === \"11/02/2019\" ? \"blue-color\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", trade_r2.ValueDate, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"assets/\", trade_r2.Currency, \".png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", trade_r2.Currency, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trade_r2.Amount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trade_r2.TransactionID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trade_r2.Beneficiary);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", trade_r2.Notional <= 500000 ? i0.ɵɵpureFunction0(23, _c2) : i0.ɵɵpureFunction0(24, _c3));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", trade_r2.Notional, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trade_r2.Coupon);\n  }\n}\nexport let LiveTableComponent = /*#__PURE__*/(() => {\n  class LiveTableComponent {\n    constructor(service, store) {\n      this.service = service;\n      this.store = store;\n      this.trade$ = this.store.pipe(select(selectTransactionsStream));\n      this.store.dispatch(new GetTransactions({}));\n    }\n    updateStatus(trade) {\n      this.service.sendMessage(trade);\n      console.log(trade);\n    }\n    ngOnInit() {}\n    ngOnDestroy() {\n      this.service.closeConnection();\n    }\n  }\n  LiveTableComponent.ɵfac = function LiveTableComponent_Factory(t) {\n    return new (t || LiveTableComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.Store));\n  };\n  LiveTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LiveTableComponent,\n    selectors: [[\"app-live-table\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[3, \"value\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"icon\", \"pi pi-times\", 3, \"click\"], [3, \"ngClass\"], [1, \"ng-currency\", 3, \"src\"]],\n    template: function LiveTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p-table\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, LiveTableComponent_ng_template_2_Template, 25, 0, \"ng-template\", 1);\n        i0.ɵɵtemplate(3, LiveTableComponent_ng_template_3_Template, 29, 25, \"ng-template\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind1(1, 1, ctx.trade$));\n      }\n    },\n    dependencies: [i3.NgClass, i4.Button, i5.Table, i6.PrimeTemplate, i7.ProgressBar, i3.AsyncPipe],\n    styles: [\".orange-color{color:#f60!important}.red-color{color:red!important}.green-color{color:green!important}.blue-color{color:#4f33ff!important}\\n\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return LiveTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}